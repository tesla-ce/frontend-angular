<nb-card *ngIf='!loading'>
    <nb-card-header class="tesla-card-header">
        <nb-actions>
            <nb-action>
                <button nbButton size="tiny" (click)="back()">
                    <nb-icon icon="arrow-ios-back-outline"></nb-icon>
                </button>
            </nb-action>
            <nb-action>
            </nb-action>
        </nb-actions>
        <div style="flex:1">
            {{'REPORT' | translate }}
        </div>
        <nb-actions>
            <nb-action>
                
            </nb-action>
        </nb-actions>
    </nb-card-header>
    <nb-card-body>
        <ngx-list [settings]="settings" [endPoint]="endPoint"></ngx-list>
        <br>
        <strong>REPORT CHART</strong>
        <br>
        <div>
            count: {{ reportChart.count }} <br>
            next: {{ reportChart.next }}  <br>
            previous: {{ reportChart.previous }}  <br>
            results: {{ reportChart.results }}  <br>
        </div>
        <br>
        <div style="display:flex">
            <nb-card *ngFor="let det of report.detail" style="margin:5px; width:320px">
                <nb-card-header>
                    {{ det.instrument }}
                </nb-card-header>
                <nb-card-body>
                    Activity Histogram
                    <div style="height:200px" echarts [options]="instrumentCharts[det.instrument_acronym + '_activity_histogram']"></div>
                    <br>
                    <br>
                    Learner Histogram
                    <div style="height:200px" echarts [options]="instrumentCharts[det.instrument_acronym + '_learner_histogram']"></div>
                </nb-card-body>
                <nb-card-footer>
                    Positive Facts
                </nb-card-footer>
                <nb-card-footer>
                    Negative Facts
                </nb-card-footer>
            </nb-card>
        </div>
    </nb-card-body>
</nb-card>